<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>‡∏ß‡∏±‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡πÑ‡∏ß‡∏™‡∏≤‡∏¢‡∏ï‡∏≤‡πÅ‡∏ö‡∏ö‡πÄ‡∏™‡πâ‡∏ô‡∏£‡∏π‡∏õ‡∏ó‡∏£‡∏á</title>
<style>
* { box-sizing: border-box; font-family: 'Segoe UI', sans-serif; }
body { margin:0; background:#111; color:white; display:flex; justify-content:center; align-items:center; height:100vh; transition: all 1s ease;}
.container { width:100%; max-width:600px; padding:20px; text-align:center; background: rgba(0,0,0,0.4); border-radius: 15px;}
h1 { color:#38bdf8; margin-bottom:5px;}
#gameArea { position:relative; width:100%; height:60vh; background: rgba(255,255,255,0.05); border-radius:20px; overflow:hidden; border:2px solid rgba(255,255,255,0.1); margin-bottom:15px;}
.circle { position:absolute; border-radius:50%; width:50px; height:50px; background:#38bdf8; cursor:pointer; display:flex; justify-content:center; align-items:center; font-weight:bold; transition: all 0.3s ease;}
#result { font-size:20px; margin-top:10px; color:#facc15;}
#certificate { margin-top:10px; padding:10px; border:2px dashed #38bdf8; border-radius:15px; background: rgba(0,0,0,0.3);}
button { padding:15px 25px; font-size:18px; border:none; border-radius:30px; background:#38bdf8; color:white; cursor:pointer; }
</style>
</head>
<body>

<div class="container">
    <h1>‡∏ß‡∏±‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡πÑ‡∏ß‡∏™‡∏≤‡∏¢‡∏ï‡∏≤‡πÅ‡∏ö‡∏ö‡πÄ‡∏™‡πâ‡∏ô‡∏£‡∏π‡∏õ‡∏ó‡∏£‡∏á</h1>
    <p>‡∏Å‡∏î‡∏ß‡∏á‡∏Å‡∏•‡∏°‡∏ï‡∏≤‡∏°‡πÄ‡∏™‡πâ‡∏ô‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£‡πÉ‡∏´‡πâ‡∏ó‡∏±‡∏ô!</p>
    <div id="gameArea"></div>
    <button onclick="startGame()">‚ñ∂ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°</button>
    <div id="result"></div>
    <div id="certificate"></div>
</div>

<script>
const gameArea = document.getElementById("gameArea");
const result = document.getElementById("result");
const certificate = document.getElementById("certificate");
let score = 0;
let active = false;
let timeout;
const fixedTime = 1000; // 1 ‡∏ß‡∏¥
const circleColors = ["#ff6b6b","#facc15","#38bdf8","#10b981","#f472b6","#a855f7"];
const bgImages = [
    "https://images.unsplash.com/photo-1519608487953-e999c86e7455",
    "https://images.unsplash.com/photo-1507525428034-b723cf961d3e",
    "https://images.unsplash.com/photo-1493244040629-496f6d136cc3",
];

// preload
bgImages.forEach(url => { const img = new Image(); img.src = url; });

// ‡∏£‡∏π‡∏õ‡∏£‡πà‡∏≤‡∏á‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£ + ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏´‡∏•‡∏µ‡πà‡∏¢‡∏°
const shapes = [
    {letter:'Z', points:4},
    {letter:'V', points:2},
    {letter:'J', points:3},
    {letter:'U', points:3},
    {letter:'O', points:1},
    {letter:'L', points:3}
];

function startGame(){
    score = 0;
    result.innerHTML = "";
    certificate.innerHTML = "";
    gameArea.innerHTML = "";
    document.body.style.backgroundImage = `url(${bgImages[0]})`;
    nextShape();
}

// ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏™‡πâ‡∏ô‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£
function nextShape(){
    gameArea.innerHTML = "";
    active = true;

    // ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£‡πÅ‡∏ö‡∏ö‡∏™‡∏∏‡πà‡∏°
    const shape = shapes[Math.floor(Math.random()*shapes.length)];

    // ‡∏™‡∏µ‡∏ß‡∏á‡∏Å‡∏•‡∏°
    let colorIndex = Math.floor(score/50) % circleColors.length;
    
    // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ß‡∏á‡∏Å‡∏•‡∏°‡∏ï‡∏≤‡∏°‡πÄ‡∏™‡πâ‡∏ô‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£
    const points = shape.points;
    for(let i=0;i<points;i++){
        const circle = document.createElement("div");
        circle.className = "circle";
        circle.style.background = circleColors[colorIndex];
        circle.innerText = shape.letter;

        // ‡∏ß‡∏≤‡∏á‡πÅ‡∏ö‡∏ö‡∏™‡∏∏‡πà‡∏°‡πÉ‡∏ô‡πÅ‡∏ô‡∏ß‡πÄ‡∏™‡πâ‡∏ô‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£ (‡∏á‡πà‡∏≤‡∏¢)
        circle.style.left = (10 + i*(80/points)) + "%";
        circle.style.top = (10 + i*(80/points)) + "%";

        circle.onclick = (e)=>{
            e.stopPropagation();
            if(!active) return;
            active = false;
            score += points; // ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô = ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏´‡∏•‡∏µ‡πà‡∏¢‡∏°
            result.innerHTML = `‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: ${score}`;

            // ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏ó‡∏∏‡∏Å 100 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô
            if(score % 100 === 0){
                let bgIndex = Math.floor(score/100) % bgImages.length;
                document.body.style.backgroundImage = `url(${bgImages[bgIndex]})`;
            }
            clearTimeout(timeout);
            nextShape();
        }

        gameArea.appendChild(circle);
    }

    timeout = setTimeout(()=>{ active=false; endGame(); }, fixedTime);
}

// ‡∏Å‡∏î‡∏ú‡∏¥‡∏î‡∏ó‡∏µ‡πà‡∏≠‡∏∑‡πà‡∏ô
gameArea.addEventListener("click",(e)=>{
    if(!active) return;
    if(!e.target.classList.contains("circle")){
        active=false; clearTimeout(timeout); endGame();
    }
});

function endGame(){
    gameArea.innerHTML = "";
    result.innerHTML = `‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: ${score}`;
    certificate.innerHTML = `<h3>‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏™‡∏≤‡∏¢‡∏ï‡∏≤:</h3>
        <p>${score<50?"üò¥ ‡∏™‡∏≤‡∏¢‡∏ï‡∏≤‡∏ä‡πâ‡∏≤":score<150?"üôÇ ‡∏™‡∏≤‡∏¢‡∏ï‡∏≤‡∏õ‡∏Å‡∏ï‡∏¥":score<400?"üòé ‡∏™‡∏≤‡∏¢‡∏ï‡∏≤‡πÑ‡∏ß":"üî• ‡∏™‡∏≤‡∏¢‡∏ï‡∏≤‡πÑ‡∏ß‡∏™‡∏∏‡∏î‡∏¢‡∏≠‡∏î!"}</p>`;
}
</script>

</body>
</html>
