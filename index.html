<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>‡πÄ‡∏Å‡∏°‡∏õ‡∏£‡∏∏‡∏á‡∏™‡∏≤‡∏£‡πÄ‡∏Ñ‡∏°‡∏µ ‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠</title>
<style>
body {
    margin: 0;
    font-family: 'Segoe UI', sans-serif;
    background: linear-gradient(to right, #74ebd5, #ACB6E5);
    display: flex;
    flex-direction: column;
    align-items: center;
    min-height: 100vh;
}

h1 {
    margin-top: 15px;
    color: #fff;
    text-align: center;
    text-shadow: 2px 2px 5px rgba(0,0,0,0.3);
}

.table-container {
    width: 95%;
    max-width: 1000px;
    margin: 15px 0;
    overflow-x: auto;
    display: grid;
    grid-template-columns: repeat(10, 60px);
    gap: 5px;
}

.element {
    width: 60px;
    height: 60px;
    border-radius: 10px;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    box-shadow: 0 3px 10px rgba(0,0,0,0.2);
    user-select: none;
    touch-action: none;
}

.element span { color: #fff; font-weight: bold; font-size: 18px; }

.element.metal { background: linear-gradient(145deg, #ffd700, #ffea00); }
.element.halogen { background: linear-gradient(145deg, #ff6a00, #ffb347); }
.element.noble { background: linear-gradient(145deg, #00c6ff, #0072ff); }
.element.nonmetal { background: linear-gradient(145deg, #8aff00, #00ff55); }
.element.metalloid { background: linear-gradient(145deg, #ff00ff, #ff77ff); }

.mix-area {
    width: 95%;
    max-width: 800px;
    min-height: 150px;
    background: rgba(255,255,255,0.2);
    border-radius: 20px;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-wrap: wrap;
    gap: 10px;
    padding: 10px;
}

.mix-btn {
    margin: 15px;
    padding: 10px 25px;
    border: none;
    border-radius: 15px;
    background: linear-gradient(145deg, #ff6a00, #ffb347);
    color: #fff;
    font-size: 16px;
}

.result { color: #fff; text-align: center; min-height: 50px; margin-bottom:20px; }
</style>
</head>
<body>
<h1>‡πÄ‡∏Å‡∏°‡∏õ‡∏£‡∏∏‡∏á‡∏™‡∏≤‡∏£‡πÄ‡∏Ñ‡∏°‡∏µ ‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠ üß™</h1>

<div class="table-container" id="elements"></div>
<div class="mix-area" id="mixArea"><p style="color:#fff;">‡∏•‡∏≤‡∏Å‡∏ò‡∏≤‡∏ï‡∏∏‡∏°‡∏≤‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ú‡∏™‡∏°</p></div>
<button class="mix-btn" id="mixBtn">‡∏ú‡∏™‡∏°‡∏™‡∏≤‡∏£</button>
<div class="result" id="result"></div>

<script>
// ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ò‡∏≤‡∏ï‡∏∏
const elements = [
  {symbol:'H',name:'‡πÑ‡∏Æ‡πÇ‡∏î‡∏£‡πÄ‡∏à‡∏ô',group:'nonmetal'},
  {symbol:'O',name:'‡∏≠‡∏≠‡∏Å‡∏ã‡∏¥‡πÄ‡∏à‡∏ô',group:'nonmetal'},
  {symbol:'Na',name:'‡πÇ‡∏ã‡πÄ‡∏î‡∏µ‡∏¢‡∏°',group:'metal'},
  {symbol:'Cl',name:'‡∏Ñ‡∏•‡∏≠‡∏£‡∏µ‡∏ô',group:'halogen'},
  {symbol:'Mg',name:'‡πÅ‡∏°‡∏Å‡∏ô‡∏µ‡πÄ‡∏ã‡∏µ‡∏¢‡∏°',group:'metal'},
  {symbol:'Fe',name:'‡πÄ‡∏´‡∏•‡πá‡∏Å',group:'metal'}
];

// ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ò‡∏≤‡∏ï‡∏∏
const container = document.getElementById('elements');
elements.forEach(el=>{
  const div=document.createElement('div');
  div.className=`element ${el.group}`;
  div.innerHTML=`<span>${el.symbol}</span>`;
  div.dataset.symbol=el.symbol;
  container.appendChild(div);
});

// Mix Area
const mixArea = document.getElementById('mixArea');

// Touch drag & drop
let draggingEl = null;
let offsetX=0, offsetY=0;

elements.forEach(el=>{
  const div = container.querySelector(`.element[data-symbol='${el.symbol}']`);
  div.addEventListener('touchstart', e=>{
    draggingEl = div.cloneNode(true);
    draggingEl.style.position='absolute';
    draggingEl.style.zIndex='1000';
    document.body.appendChild(draggingEl);
    const touch = e.touches[0];
    offsetX = touch.clientX - div.getBoundingClientRect().left;
    offsetY = touch.clientY - div.getBoundingClientRect().top;
    draggingEl.style.left = `${touch.clientX-offsetX}px`;
    draggingEl.style.top = `${touch.clientY-offsetY}px`;
  });

  div.addEventListener('touchmove', e=>{
    if(!draggingEl) return;
    const touch = e.touches[0];
    draggingEl.style.left = `${touch.clientX-offsetX}px`;
    draggingEl.style.top = `${touch.clientY-offsetY}px`;
  });

  div.addEventListener('touchend', e=>{
    if(!draggingEl) return;
    const mixRect = mixArea.getBoundingClientRect();
    const dragRect = draggingEl.getBoundingClientRect();
    // Check if dropped in Mix Area
    if(dragRect.left+dragRect.width/2 > mixRect.left &&
       dragRect.left+dragRect.width/2 < mixRect.right &&
       dragRect.top+dragRect.height/2 > mixRect.top &&
       dragRect.top+dragRect.height/2 < mixRect.bottom){
         const newEl = draggingEl.cloneNode(true);
         newEl.style.position='static';
         newEl.style.width='50px';
         newEl.style.height='50px';
         mixArea.appendChild(newEl);
    }
    draggingEl.remove();
    draggingEl = null;
  });
});

// ‡∏õ‡∏∏‡πà‡∏°‡∏ú‡∏™‡∏°‡∏™‡∏≤‡∏£
const mixBtn = document.getElementById('mixBtn');
const resultDiv = document.getElementById('result');

mixBtn.addEventListener('click', ()=>{
  const symbols = [...mixArea.querySelectorAll('.element')].map(d=>d.dataset.symbol).sort();
  let resultText = '‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏î‡∏õ‡∏è‡∏¥‡∏Å‡∏¥‡∏£‡∏¥‡∏¢‡∏≤';
  if(symbols.includes('H') && symbols.includes('O') && symbols.length===2) resultText='‡πÄ‡∏Å‡∏¥‡∏î‡∏ô‡πâ‡∏≥ (H‚ÇÇO) üíß';
  else if(symbols.includes('Na') && symbols.includes('Cl') && symbols.length===2) resultText='‡πÄ‡∏Å‡∏¥‡∏î‡πÄ‡∏Å‡∏•‡∏∑‡∏≠‡πÅ‡∏Å‡∏á (NaCl) üßÇ';
  else if(symbols.includes('Mg') && symbols.includes('O') && symbols.length===2) resultText='‡πÄ‡∏Å‡∏¥‡∏î‡πÅ‡∏°‡∏Å‡∏ô‡∏µ‡πÄ‡∏ã‡∏µ‡∏¢‡∏°‡∏≠‡∏≠‡∏Å‡πÑ‡∏ã‡∏î‡πå (MgO) üî•';
  resultDiv.innerHTML = resultText;
});
</script>
</body>
</html>
