<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>เกมแต่งตัว</title>
<style>
  body {
    font-family: 'Comic Sans MS', cursive;
    background: linear-gradient(to bottom, #fce4ec, #f8bbd0);
    margin: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 20px;
  }

  h1 { color: #ff4d6d; }

  #genderSelect {
    margin-bottom: 20px;
  }

  #game {
    display: flex;
    gap: 20px;
  }

  #character {
    width: 300px;
    height: 500px;
    position: relative;
    background: #ffe6f0;
    border-radius: 20px;
    overflow: hidden;
    box-shadow: 0 0 15px rgba(0,0,0,0.2);
  }

  .layer {
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    pointer-events: none; /* ให้ draggable overlay ทำงาน */
  }

  #items {
    display: flex;
    flex-direction: column;
    gap: 10px;
    max-height: 500px;
    overflow-y: auto;
  }

  .item {
    width: 60px;
    height: 60px;
    border-radius: 10px;
    border: 2px solid #fff;
    box-shadow: 0 0 5px rgba(0,0,0,0.2);
    cursor: grab;
    background-size: cover;
    background-position: center;
  }
</style>
</head>
<body>

<h1>เกมแต่งตัว</h1>

<div id="genderSelect">
  <button onclick="selectGender('male')">ชาย</button>
  <button onclick="selectGender('female')">หญิง</button>
</div>

<div id="game" style="display:none;">
  <div id="character">
    <div id="hair" class="layer"></div>
    <div id="eyes" class="layer"></div>
    <div id="mouth" class="layer"></div>
    <div id="clothes" class="layer"></div>
    <div id="accessories" class="layer"></div>
  </div>

  <div id="items">
    <h3>เลือกไอเทม</h3>
    <!-- ตัวอย่าง item -->
    <div class="item" draggable="true" style="background-image:url('https://i.imgur.com/l7G5lGU.png');" data-target="hair"></div>
    <div class="item" draggable="true" style="background-image:url('https://i.imgur.com/6RpL1dP.png');" data-target="eyes"></div>
    <div class="item" draggable="true" style="background-image:url('https://i.imgur.com/yMqYxX6.png');" data-target="mouth"></div>
    <div class="item" draggable="true" style="background-image:url('https://i.imgur.com/v7XcvzT.png');" data-target="clothes"></div>
    <div class="item" draggable="true" style="background-image:url('https://i.imgur.com/k9vVQmz.png');" data-target="accessories"></div>
  </div>
</div>

<script>
function selectGender(gender){
  document.getElementById('game').style.display = 'flex';
  // เปลี่ยนตัวละครพื้นฐานตามเพศ
  let character = document.getElementById('character');
  character.style.backgroundImage = gender === 'male' ? "url('https://i.imgur.com/XoA9B7K.png')" : "url('https://i.imgur.com/Y3WjHYn.png')";
}

// Drag & Drop
const items = document.querySelectorAll('.item');
items.forEach(item => {
  item.addEventListener('dragstart', e => {
    e.dataTransfer.setData('target', item.dataset.target);
    e.dataTransfer.setData('bg', item.style.backgroundImage);
  });
});

const layers = document.querySelectorAll('.layer');
layers.forEach(layer => {
  layer.addEventListener('dragover', e => e.preventDefault());
  layer.addEventListener('drop', e => {
    e.preventDefault();
    const target = e.dataTransfer.getData('target');
    const bg = e.dataTransfer.getData('bg');
    if(layer.id === target){
      layer.style.backgroundImage = bg;
    }
  });
});
</script>

</body>
</html>
