<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pop Friend</title>

<style>
body {
    margin: 0;
    height: 100vh;
    background: #ffc0cb;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    font-family: sans-serif;
}

img {
    width: 280px;
    cursor: pointer;
}

.counter {
    font-size: 22px;
    margin-top: 10px;
    font-weight: bold;
}

select {
    margin-top: 10px;
    padding: 8px;
    border-radius: 10px;
    font-size: 16px;
}

.board {
    margin-top: 15px;
    background: white;
    padding: 15px;
    border-radius: 15px;
    width: 260px;
}
</style>
</head>
<body>

<img id="img" src="https://media.discordapp.net/attachments/1351475770370953226/1465184686492880937/Messenger_creation_9299DE20-9320-4418-8D2A-613E2737FF97.jpg">

<div class="counter">à¸à¸”à¹„à¸›à¹à¸¥à¹‰à¸§: <span id="count">0</span> à¸„à¸£à¸±à¹‰à¸‡</div>

<select id="country">
    <option value="TH">ğŸ‡¹ğŸ‡­ à¹„à¸—à¸¢</option>
    <option value="JP">ğŸ‡¯ğŸ‡µ à¸à¸µà¹ˆà¸›à¸¸à¹ˆà¸™</option>
    <option value="US">ğŸ‡ºğŸ‡¸ à¸­à¹€à¸¡à¸£à¸´à¸à¸²</option>
    <option value="KR">ğŸ‡°ğŸ‡· à¹€à¸à¸²à¸«à¸¥à¸µ</option>
</select>

<div class="board" id="board"></div>

<script>
const img = document.getElementById("img");
const countEl = document.getElementById("count");
const board = document.getElementById("board");
const countrySelect = document.getElementById("country");

let data = JSON.parse(localStorage.getItem("popData")) || {
    total: 0,
    country: {
        TH: 0,
        JP: 0,
        US: 0,
        KR: 0
    }
};

function save() {
    localStorage.setItem("popData", JSON.stringify(data));
}

function updateUI() {
    countEl.textContent = data.total;
    board.innerHTML = `
        ğŸŒ à¸•à¸²à¸£à¸²à¸‡à¸„à¸°à¹à¸™à¸™<br>
        ğŸ‡¹ğŸ‡­ à¹„à¸—à¸¢: ${data.country.TH}<br>
        ğŸ‡¯ğŸ‡µ à¸à¸µà¹ˆà¸›à¸¸à¹ˆà¸™: ${data.country.JP}<br>
        ğŸ‡ºğŸ‡¸ à¸­à¹€à¸¡à¸£à¸´à¸à¸²: ${data.country.US}<br>
        ğŸ‡°ğŸ‡· à¹€à¸à¸²à¸«à¸¥à¸µ: ${data.country.KR}
    `;
}

function pop() {
    img.src = "https://media.discordapp.net/attachments/1351475770370953226/1465184695624142919/Messenger_creation_4466CA51-C0A8-42D0-962E-A575370349F1.jpg";

    setTimeout(() => {
        img.src = "https://media.discordapp.net/attachments/1351475770370953226/1465184686492880937/Messenger_creation_9299DE20-9320-4418-8D2A-613E2737FF97.jpg";
    }, 80);

    data.total++;
    data.country[countrySelect.value]++;
    save();
    updateUI();
}

img.addEventListener("mousedown", pop);
img.addEventListener("touchstart", pop);

updateUI();
</script>

</body>
</html>
