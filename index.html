<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>แบบทดสอบเจ้าชู้</title>
<link href="https://fonts.googleapis.com/css2?family=Kanit:wght@400;700&display=swap" rel="stylesheet">
<style>
body {
  font-family: 'Kanit', sans-serif;
  background: linear-gradient(to right, #fbc2eb, #a6c1ee);
  margin: 0;
  padding: 0;
  display: flex;
  justify-content: center;
  align-items: flex-start;
  min-height: 100vh;
  padding-top: 30px;
}
.container {
  background: #fff;
  border-radius: 20px;
  padding: 20px 25px;
  max-width: 600px;
  width: 90%;
  box-shadow: 0 10px 25px rgba(0,0,0,0.2);
  text-align: center;
  margin-bottom: 20px;
}
h1 {
  color: #ff4d6d;
  margin-bottom: 20px;
}
input[type=text] {
  padding: 10px;
  font-size: 16px;
  width: 80%;
  border-radius: 10px;
  border: 1px solid #ccc;
}
button {
  padding: 10px 25px;
  font-size: 16px;
  border: none;
  border-radius: 10px;
  cursor: pointer;
  background-color: #ff4d6d;
  color: white;
  transition: 0.3s;
  margin-top: 10px;
}
button:hover { background-color: #ff1f4b; }
button.answer {
  margin-top: 10px;
  width: 100px;
}
button.hidden { display: none; }
.question { font-size: 18px; margin-bottom: 15px; }
.button-group { display: flex; justify-content: center; gap: 20px; flex-wrap: wrap; }
#result { margin-top: 20px; font-size: 20px; font-weight: bold; color: #ff4d6d; }
#dataList { margin-top: 20px; text-align: left; }
@media (max-width:500px){ .button-group{flex-direction: column;} }
</style>
</head>
<body>

<div class="container" id="nameContainer">
<h1>กรอกชื่อของคุณ</h1>
<input type="text" id="userName" placeholder="ชื่อของคุณ">
<br>
<button onclick="submitName()">ส่งข้อมูล</button>
</div>

<div class="container" id="quizContainer" style="display:none;"></div>
<div class="container" id="resultContainer" style="display:none;"></div>

<div class="container" id="dataList">
<h2>รายชื่อผู้เล่น:</h2>
<ul id="userList"></ul>
</div>

<script>
// เก็บข้อมูลผู้เล่น
let users = [];

// คำถาม
const questions = [
  "1. คุณมักแอบคุยกับคนที่สนใจอยู่บ่อยไหม?",
  "2. คุณมักแอบดูคนอื่นแม้มีแฟนอยู่แล้ว?",
  "3. คุณคิดว่าการเจ้าชู้คือเรื่องปกติไหม?",
  "4. คุณชอบกุ๊กกิ๊กกับเพื่อนแม้ไม่มีความสัมพันธ์จริงจัง?",
  "5. คุณเคยให้ความหวังคนหลายคนพร้อมกันไหม?",
  "6. คุณมักทำตัวเจ้าชู้เมื่ออยู่กับเพื่อน?",
  "7. คุณมักกดไลก์หรือคอมเมนต์คนอื่นบ่อยแม้ไม่สนิท?",
  "8. คุณมักคิดเรื่องเจ้าชู้บ่อยไหม?",
  "9. คุณเคยทำให้คนอื่นเข้าใจผิดว่าคุณชอบเขาไหม?",
  "10. คุณคิดว่าตัวเองเจ้าชู้มากแค่ไหน?"
];

const hideButtonQuestions = [8]; // ข้อที่ปุ่มจะหาย

let currentQuestion = 0;
let score = 0;
let answered = false;
let currentUser = "";

function submitName(){
  const nameInput = document.getElementById("userName").value.trim();
  if(nameInput === "") { alert("กรุณากรอกชื่อ"); return; }

  // เก็บชื่อ
  currentUser = nameInput;
  users.push(nameInput);
  updateUserList();

  // ซ่อนหน้าใส่ชื่อ
  document.getElementById("nameContainer").style.display = "none";

  // แสดง quiz
  document.getElementById("quizContainer").style.display = "block";
  showQuestion();
}

function updateUserList(){
  const ul = document.getElementById("userList");
  ul.innerHTML = "";
  users.forEach(u=>{
    const li = document.createElement("li");
    li.textContent = u;
    ul.appendChild(li);
  });
}

function showQuestion(){
  if(currentQuestion >= questions.length){
    document.getElementById("quizContainer").style.display = "none";
    document.getElementById("resultContainer").style.display = "block";
    let level = '';
    if(score <= 3) level = 'ไม่เจ้าชู้';
    else if(score <= 6) level = 'เจ้าชู้ปานกลาง';
    else level = 'เจ้าชู้มาก';
    document.getElementById("resultContainer").innerHTML = `<h1>${currentUser} คะแนนรวม: ${score}</h1><p>ระดับ: ${level}</p>`;
    answered = true;
    return;
  }

  if(answered) return; // ป้องกันตอบซ้ำ

  quizContainer.innerHTML = `
    <div class="question">${questions[currentQuestion]}</div>
    <div class="button-group">
      <button class="answer ${hideButtonQuestions.includes(currentQuestion+1)? 'hidden':''}" onclick="answerQuestion(true)">ใช่</button>
      <button class="answer ${hideButtonQuestions.includes(currentQuestion+1)? 'hidden':''}" onclick="answerQuestion(false)">ไม่ใช่</button>
    </div>
  `;
}

function answerQuestion(isYes){
  score += isYes ? 1 : 0;
  currentQuestion++;
  showQuestion();
}
</script>

</body>
</html>
